<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DAGUERR — Photography Intelligence</title>

  <!-- MAIN STYLES -->
<link rel="stylesheet" href="style.css" />
<link rel="stylesheet" href="assistant.css" />
<link rel="stylesheet" href="assistant-panel/assistant-panel.css" />

  <!-- SCRIPTS -->
  <script src="lang.js" defer></script>
</head>

<body>

  <!-- HEADER -->
  <header class="header">
  <div class="logo">DAGUERR</div>

  <nav class="main-nav">
    <a href="#" data-key="menu_assistant">Photo Assistant</a>
    <a href="#" data-key="menu_gear">Gear Finder</a>
    <a href="#" data-key="menu_world">Photo World</a>
    <a href="#" data-key="menu_encyclopedia">Encyclopedia</a>
  </nav>

  <div class="lang-switcher">
    <select id="languageSelect">
      <option value="en">EN</option>
      <option value="pl">PL</option>
    </select>
  </div>
</header>

  <div class="why-link-wrapper">
  <a href="why.html" class="why-link">Why DAGUERR Assistant →</a>
</div>

  <!-- HERO -->
  <section class="hero">
    <h1 data-key="hero_title">Daguerr Photo Assistant</h1>
    <p data-key="hero_subtitle">
      Your intelligent companion for photography — planning, learning, creativity, and workflow.
    </p>

    <button 
  id="openAssistantBtn" 
  class="cta-button" 
  data-key="hero_button"
  onclick="window.location.href='assistant-panel/assistant-panel.html'"
>
  Open Assistant
</button>

  </section>

  <div style="text-align:center; margin:10px 0;">
  <input id="apiKeyInput" 
         type="password" 
         placeholder="Paste your OpenAI API Key"
         style="padding:10px; width:300px; border-radius:6px; border:1px solid #333; background:#111; color:#fff;">
</div>

  <!-- CHAT UI -->
<div class="assistant-output"></div>

<div class="assistant-input-area">
  <input id="assistantInput" type="text" placeholder="Write your message...">
  <button id="assistantSend">Send</button>
</div>

  <!-- MODAL -->
  <div id="assistantModal" class="assistant-modal">
    <div class="assistant-modal-content">
      <span id="closeAssistantBtn" class="assistant-close">&times;</span>

      <h2 id="assistantRole"></h2>
      <p id="assistantWelcome" class="assistant-welcome"></p>

      <div class="assistant-columns">
        <div class="assistant-column">
          <h3>Instructions</h3>
          <ul id="assistantInstructions"></ul>
        </div>

        <div class="assistant-column">
          <h3>Features</h3>
          <ul id="assistantFeatures"></ul>
        </div>

        <div class="assistant-column">
          <h3>Examples</h3>
          <ul id="assistantExamples"></ul>
        </div>
      </div>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="footer">
    <p>© 2026 DAGUERR</p>
  </footer>

  <script src="assistant.js"></script>

  <script>
  console.log("INLINE SCRIPT WORKS");
</script>
<script>
console.log("INLINE CHAT TEST LOADED");

// MODAL SETUP
(function setupModal() {
  const modal = document.getElementById("assistantModal");
  const openBtn = document.getElementById("openAssistantBtn");
  const closeBtn = document.getElementById("closeAssistantBtn");

  if (!modal || !openBtn || !closeBtn) return;

  openBtn.onclick = () => modal.style.display = "block";
  closeBtn.onclick = () => modal.style.display = "none";
  window.onclick = (e) => {
    if (e.target === modal) modal.style.display = "none";
  };
})();

// CHAT LOGIC
(function setupChat() {
  const sendBtn = document.getElementById("assistantSend");
  if (!sendBtn) return;

  sendBtn.onclick = async () => {
    const apiKey = document.getElementById("apiKeyInput").value.trim();
    const input = document.getElementById("assistantInput").value.trim();
    const output = document.querySelector(".assistant-output");

    if (!apiKey) return alert("Please paste your OpenAI API Key");
    if (!input) return;

    const userMsg = document.createElement("div");
    userMsg.className = "message user";
    userMsg.textContent = input;
    output.appendChild(userMsg);

    try {
      const res = await fetch("https://api.openai.com/v1/chat/completions", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": `Bearer ${apiKey}`
        },
        body: JSON.stringify({
          model: "gpt-3.5-turbo",
          messages: [{ role: "user", content: input }]
        })
      });

      const data = await res.json();
      const reply = data.choices?.[0]?.message?.content || "No response";

      const botMsg = document.createElement("div");
      botMsg.className = "message assistant";
      botMsg.textContent = reply;
      output.appendChild(botMsg);
    } catch (err) {
      const errMsg = document.createElement("div");
      errMsg.className = "message assistant";
      errMsg.textContent = "Error: " + err.message;
      output.appendChild(errMsg);
    }
  };
})();
</script>
  
<script src="test.js"></script>

</body>
</html>
